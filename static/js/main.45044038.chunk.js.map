{"version":3,"sources":["reportWebVitals.js","styles/theme.js","context/app.js","components/ScrollableList.js","utils/index.js","containers/List.js","components/TextInput.js","containers/Main.js","App.js","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","createMuiTheme","palette","primary","main","div","flexContainerHorizontal","display","flexDirection","flexContainerVertical","app","input","onInputChange","React","createContext","useStyles","makeStyles","theme","list","height","overflowY","alignItems","progressContainer","padding","justifyContent","fetchStateEnum","ScrollableList","props","fetchState","loadMore","children","scrollOffset","classes","className","onScroll","e","target","clientHeight","scrollTop","scrollHeight","state","FormHelperText","error","loading","ListItem","CircularProgress","memo","octokit","Octokit","requestRepoApi","querySearch","page","request","q","sort","order","per_page","item","List","useContext","AppContext","useState","items","setItems","pageRef","useRef","setFetchState","fetchRepos","useCallback","debounce","isMore","a","current","response","Promise","resolve","setTimeout","prev","concat","data","message","useEffect","length","map","button","onClick","window","open","html_url","ListItemAvatar","Avatar","alt","name","src","owner","avatar_url","ListItemText","secondary","description","node_id","TextInput","onChangeText","value","TextField","onChange","placeholder","root","width","margin","h5","marginBottom","Main","Paper","Typography","variant","App","setInput","Provider","CssBaseline","WrapThemeAndContext","ThemeProvider","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.45044038.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { createMuiTheme } from '@material-ui/core/styles';\n\n// Custom Our Main Theme in here\nexport default createMuiTheme({\n  palette: {\n    primary: {\n      main: '#3C3E45',\n    },\n  },\n  div: {\n    flexContainerHorizontal: {\n      display: 'flex',\n      flexDirection: 'row',\n    },\n    flexContainerVertical: {\n      display: 'flex',\n      flexDirection: 'column',\n    },\n  }\n});","import React from \"react\";\n\nconst app = {\n  input: \"\",\n  onInputChange: () => {},\n}\n\nexport default React.createContext(app);","import React from \"react\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport MuiList from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { makeStyles } from \"@material-ui/core\";\n\n\nconst useStyles = makeStyles((theme) => ({\n  list: {\n    height: \"100%\",\n    overflowY: \"auto\",\n    alignItems: \"center\",\n    ...theme.div.flexContainerVertical,\n  },\n  progressContainer: {\n    padding: 24,\n    justifyContent: \"center\",\n  },\n}));\n\n\nexport const fetchStateEnum = {\n  PENDING: \"pending\",\n  RESOLVED: \"resolved\",\n  ERROR: \"error\",\n  IDLE: \"idle\",\n}\n\nconst defaultScrollOffset = 120;\nconst ScrollableList = (props) => {\n  const { fetchState, loadMore, children, scrollOffset = defaultScrollOffset } = props;\n  const classes = useStyles();\n\n  const onScroll = (e) => {\n    const { clientHeight, scrollTop, scrollHeight } = e.target;\n    if (clientHeight + scrollTop + scrollOffset >= scrollHeight) {\n      loadMore();\n    }\n  }\n  return (\n    <MuiList className={classes.list} onScroll={onScroll}>\n      {fetchState.state === fetchStateEnum.ERROR && <FormHelperText error>{fetchState.error}</FormHelperText>}\n      {children}\n      {fetchState.loading && (\n        <ListItem className={classes.progressContainer}>\n          <CircularProgress />\n        </ListItem>\n      )}\n    </MuiList>\n  )\n}\n\nexport default React.memo(ScrollableList);","import { Octokit } from \"@octokit/core\";\nconst octokit = new Octokit();\n\nexport const requestRepoApi = (querySearch, page) => octokit.request('GET /search/repositories', {\n  q: querySearch,\n  sort: \"stars\",\n  order: \"desc\",\n  per_page: 50,\n  page,\n})","import React from \"react\";\nimport debounce from \"lodash/debounce\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport { makeStyles } from \"@material-ui/core\";\nimport ScrollableList, { fetchStateEnum } from \"../components/ScrollableList\";\nimport { requestRepoApi } from \"../utils\";\nimport AppContext from \"../context/app\";\n\nconst useStyles = makeStyles((theme) => ({\n  item: {\n    justifyContent: \"center\",  \n  }\n}));\n\nconst List = () => {\n  const classes = useStyles();\n  const { input } = React.useContext(AppContext);\n  const [items, setItems] = React.useState([]);\n  const pageRef = React.useRef(0); // Won't affect render, no need to use state\n  const [fetchState, setFetchState] = React.useState({ state: fetchStateEnum.IDLE, loading: false });\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  const fetchRepos = React.useCallback(\n    debounce(async (querySearch, isMore) => {\n      if (!querySearch) return;\n      try {\n        setFetchState({ state: fetchStateEnum.PENDING, loading: true });\n        if (isMore) {\n          pageRef.current = pageRef.current + 1;\n        } else {\n          pageRef.current = 1;\n        }\n        const response = await requestRepoApi(querySearch, pageRef.current);\n        await new Promise(resolve => setTimeout(resolve, 500)); // Add timeout\n        setFetchState({ state: fetchStateEnum.RESOLVED, loading: false });\n        setItems(prev => {\n          if (!isMore) return response.data.items;\n          return prev.concat(response.data.items)\n        })\n      } catch (e) {\n        setFetchState({ state: fetchStateEnum.ERROR, error: e.message, loading: false });\n      }\n    }, 1000)\n  , []);\n\n  React.useEffect(() => {\n    setItems([]);\n    fetchRepos(input, false);\n  }, [fetchRepos, input]);\n\n  const loadMore = React.useCallback(\n    () => fetchRepos(input, true),\n  [fetchRepos, input]);\n\n  const renderItems = () => {\n    if (fetchState.state === fetchStateEnum.ERROR) return null;\n    if (fetchState.state === fetchStateEnum.RESOLVED && items.length === 0) {\n      return (\n        <ListItem>No match result</ListItem>\n      )\n    }\n    return items.map((item) => {\n      const onClick = () => {\n        window.open(item.html_url, \"_blank\", \"noreferrer=yes\");\n      }\n      return (\n        <ListItem button key={item.node_id} className={classes.item} onClick={onClick} >\n          <ListItemAvatar>\n            <Avatar alt={item.name} src={item.owner.avatar_url}>\n              {!item.owner?.avatar_url && item.name[0]}\n            </Avatar>\n          </ListItemAvatar>\n          <ListItemText primary={item.name} secondary={item.description} />\n        </ListItem>\n      )\n    });\n  }\n  return (\n    <ScrollableList loadMore={loadMore} fetchState={fetchState}>\n      {renderItems()}\n    </ScrollableList>\n  )\n}\n\nexport default List;\n","import React from \"react\";\nimport TextField from \"@material-ui/core/TextField\";\n\nconst TextInput = ({ input, onInputChange }) => {\n  const onChangeText = React.useCallback((e) => {\n    onInputChange(e.target.value);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <TextField\n      value={input}\n      onChange={onChangeText}\n      placeholder=\"Type repo name in here ...\"\n    />\n  )\n}\nexport default React.memo(TextInput);\n","import React from \"react\";\nimport { makeStyles, Typography } from \"@material-ui/core\";\nimport Paper from \"@material-ui/core/Paper\";\nimport List from \"./List\";\nimport TextInput from \"../components/TextInput\";\nimport AppContext from \"../context/app\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"40vw\",\n    padding: 48,\n    height: \"calc(100vh - 48px)\",\n    margin: \"24px auto\",\n    ...theme.div.flexContainerVertical,\n  },\n  h5: {\n    marginBottom: 16,\n  }\n}));\n\nconst Main = () => {\n  const classes = useStyles();\n  const { input, onInputChange } = React.useContext(AppContext);\n\n  return (\n    <Paper className={classes.root}>\n      <Typography variant=\"h5\" className={classes.h5}>Github Repository Search</Typography>\n      <TextInput input={input} onInputChange={onInputChange} />\n      <List />\n    </Paper>\n  )\n}\n\nexport default Main;\n","import React from \"react\";\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport AppContext from \"./context/app\";\nimport Main from \"./containers/Main\";\n\n// implement the app required context in here;\n\nfunction App() {\n  const [input, setInput] = React.useState(\"\");\n  const onInputChange = (value) => setInput(value);\n  return (\n    <AppContext.Provider value={{ onInputChange, input }}>\n      <CssBaseline />\n      <Main />\n    </AppContext.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { ThemeProvider } from '@material-ui/styles';\nimport reportWebVitals from './reportWebVitals';\nimport theme from './styles/theme';\nimport App from './App';\n\nfunction WrapThemeAndContext() {\n  return (\n    <ThemeProvider theme={theme}>\n      <App />\n    </ThemeProvider>\n  )\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <WrapThemeAndContext />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}