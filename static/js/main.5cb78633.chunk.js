(this["webpackJsonpgit-repos"]=this["webpackJsonpgit-repos"]||[]).push([[0],{92:function(e,t,n){"use strict";n.r(t);var r=n(7),a=n(0),c=n.n(a),i=n(8),o=n.n(i),s=n(135),u=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,138)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))},l=n(61),j=Object(l.a)({palette:{primary:{main:"#3C3E45"}},div:{flexContainerHorizontal:{display:"flex",flexDirection:"row"},flexContainerVertical:{display:"flex",flexDirection:"column"}}}),d=n(23),f=n(134),p={input:"",onInputChange:function(){}},h=c.a.createContext(p),b=n(36),g=n(126),x=n(42),m=n(133),O=n(12),v=n.n(O),C=n(21),w=n(55),y=n.n(w),k=n(137),S=n(132),I=n(130),N=n(128),T=n(131),_=Object(g.a)((function(e){return{list:Object(b.a)({height:"100%",overflowY:"auto",alignItems:"center"},e.div.flexContainerVertical),progressContainer:{padding:24,justifyContent:"center"}}})),E="pending",F="resolved",P="error",B="idle",D=function(e){var t=e.fetchState,n=e.loadMore,a=e.children,c=e.scrollOffset,i=void 0===c?120:c,o=_();return Object(r.jsxs)(N.a,{className:o.list,onScroll:function(e){var t=e.target,r=t.clientHeight,a=t.scrollTop,c=t.scrollHeight;r+a+i>=c&&n()},children:[t.state===P&&Object(r.jsx)(I.a,{error:!0,children:t.error}),a,t.loading&&Object(r.jsx)(k.a,{className:o.progressContainer,children:Object(r.jsx)(T.a,{})})]})},H=c.a.memo(D),M=new(n(60).a),V=function(e,t){return M.request("GET /search/repositories",{q:e,sort:"stars",order:"desc",per_page:50,page:t})},q=Object(g.a)((function(e){return{item:{justifyContent:"center"}}})),z=function(){var e=q(),t=c.a.useContext(h).input,n=c.a.useState([]),a=Object(d.a)(n,2),i=a[0],o=a[1],s=c.a.useRef(0),u=c.a.useState({state:B,loading:!1}),l=Object(d.a)(u,2),j=l[0],f=l[1],p=c.a.useCallback(y()(function(){var e=Object(C.a)(v.a.mark((function e(t,n){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return s.current=n?s.current+1:1,e.prev=3,f({state:E,loading:!0}),e.next=7,V(t,s.current);case 7:return r=e.sent,e.next=10,new Promise((function(e){return setTimeout(e,500)}));case 10:f({state:F,loading:!1}),o((function(e){return n?e.concat(r.data.items):r.data.items})),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),f({state:P,error:e.t0.message,loading:!1});case 17:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t,n){return e.apply(this,arguments)}}(),1e3),[]);c.a.useEffect((function(){o([]),p(t,!1)}),[p,t]);var b=c.a.useCallback((function(){return p(t,!0)}),[p,t]);return Object(r.jsx)(H,{items:i,loadMore:b,fetchState:j,children:j.state===P?null:j.state===F&&0===i.length?Object(r.jsx)(k.a,{children:"No match result"}):i.map((function(t){return Object(r.jsx)(k.a,{button:!0,className:e.item,onClick:function(){window.open(t.html_url,"_blank","noreferrer=yes")},children:Object(r.jsx)(S.a,{primary:t.name,secondary:t.stargazers_count})},t.node_id)}))})},G=n(136),J=function(e){var t=e.input,n=e.onInputChange,a=c.a.useCallback((function(e){n(e.target.value)}),[]);return Object(r.jsx)(G.a,{value:t,onChange:a,placeholder:"Type repo name in here ..."})},L=c.a.memo(J),R=Object(g.a)((function(e){return{root:Object(b.a)({width:"40vw",padding:48,height:"calc(100vh - 48px)",margin:"24px auto"},e.div.flexContainerVertical),h5:{marginBottom:16}}})),Y=function(){var e=R(),t=c.a.useContext(h),n=t.input,a=t.onInputChange;return Object(r.jsxs)(m.a,{className:e.root,children:[Object(r.jsx)(x.a,{variant:"h5",className:e.h5,children:"Github Repository Search"}),Object(r.jsx)(L,{input:n,onInputChange:a}),Object(r.jsx)(z,{})]})};var A=function(){var e=c.a.useState(""),t=Object(d.a)(e,2),n=t[0],a=t[1];return Object(r.jsxs)(h.Provider,{value:{onInputChange:function(e){return a(e)},input:n},children:[Object(r.jsx)(f.a,{}),Object(r.jsx)(Y,{})]})};function K(){return Object(r.jsx)(s.a,{theme:j,children:Object(r.jsx)(A,{})})}o.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(K,{})}),document.getElementById("root")),u()}},[[92,1,2]]]);
//# sourceMappingURL=main.5cb78633.chunk.js.map