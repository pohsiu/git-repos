(this["webpackJsonpgit-repos"]=this["webpackJsonpgit-repos"]||[]).push([[0],{93:function(e,t,n){"use strict";n.r(t);var r=n(6),a=n(0),c=n.n(a),i=n(8),o=n.n(i),s=n(139),u=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,143)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))},l=n(62),j=Object(l.a)({palette:{primary:{main:"#3C3E45"}},div:{flexContainerHorizontal:{display:"flex",flexDirection:"row"},flexContainerVertical:{display:"flex",flexDirection:"column"}}}),d=n(23),h=n(138),p={input:"",onInputChange:function(){}},f=c.a.createContext(p),b=n(36),x=n(129),g=n(43),m=n(137),v=n(12),O=n.n(v),C=n(21),w=n(56),y=n.n(w),k=n(141),S=n(136),I=n(135),N=n(142),T=n(133),_=n(131),E=n(134),F=Object(x.a)((function(e){return{list:Object(b.a)({height:"100%",overflowY:"auto",alignItems:"center"},e.div.flexContainerVertical),progressContainer:{padding:24,justifyContent:"center"}}})),P="pending",B="resolved",D="error",H="idle",M=function(e){var t=e.fetchState,n=e.loadMore,a=e.children,c=e.scrollOffset,i=void 0===c?120:c,o=F();return Object(r.jsxs)(_.a,{className:o.list,onScroll:function(e){var t=e.target,r=t.clientHeight,a=t.scrollTop,c=t.scrollHeight;r+a+i>=c&&n()},children:[t.state===D&&Object(r.jsx)(T.a,{error:!0,children:t.error}),a,t.loading&&Object(r.jsx)(k.a,{className:o.progressContainer,children:Object(r.jsx)(E.a,{})})]})},V=c.a.memo(M),q=new(n(61).a),G=function(e,t){return q.request("GET /search/repositories",{q:e,sort:"stars",order:"desc",per_page:50,page:t})},J=Object(x.a)((function(e){return{item:{justifyContent:"center"}}})),L=function(){var e=J(),t=c.a.useContext(f).input,n=c.a.useState([]),a=Object(d.a)(n,2),i=a[0],o=a[1],s=c.a.useRef(0),u=c.a.useState({state:H,loading:!1}),l=Object(d.a)(u,2),j=l[0],h=l[1],p=c.a.useCallback(y()(function(){var e=Object(C.a)(O.a.mark((function e(t,n){var r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,h({state:P,loading:!0}),s.current=n?s.current+1:1,e.next=7,G(t,s.current);case 7:return r=e.sent,e.next=10,new Promise((function(e){return setTimeout(e,500)}));case 10:h({state:B,loading:!1}),o((function(e){return n?e.concat(r.data.items):r.data.items})),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),h({state:D,error:e.t0.message,loading:!1});case 17:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t,n){return e.apply(this,arguments)}}(),1e3),[]);c.a.useEffect((function(){o([]),p(t,!1)}),[p,t]);var b=c.a.useCallback((function(){return p(t,!0)}),[p,t]);return Object(r.jsx)(V,{loadMore:b,fetchState:j,children:j.state===D?null:j.state===B&&0===i.length?Object(r.jsx)(k.a,{children:"No match result"}):i.map((function(t){var n;return Object(r.jsxs)(k.a,{button:!0,className:e.item,onClick:function(){window.open(t.html_url,"_blank","noreferrer=yes")},children:[Object(r.jsx)(I.a,{children:Object(r.jsx)(N.a,{alt:t.name,src:t.owner.avatar_url,children:!(null===(n=t.owner)||void 0===n?void 0:n.avatar_url)&&t.name[0]})}),Object(r.jsx)(S.a,{primary:t.name,secondary:t.description})]},t.node_id)}))})},R=n(140),z=function(e){var t=e.input,n=e.onInputChange,a=c.a.useCallback((function(e){n(e.target.value)}),[]);return Object(r.jsx)(R.a,{value:t,onChange:a,placeholder:"Type repo name in here ..."})},Y=c.a.memo(z),A=Object(x.a)((function(e){return{root:Object(b.a)({width:"40vw",padding:48,height:"calc(100vh - 48px)",margin:"24px auto"},e.div.flexContainerVertical),h5:{marginBottom:16}}})),K=function(){var e=A(),t=c.a.useContext(f),n=t.input,a=t.onInputChange;return Object(r.jsxs)(m.a,{className:e.root,children:[Object(r.jsx)(g.a,{variant:"h5",className:e.h5,children:"Github Repository Search"}),Object(r.jsx)(Y,{input:n,onInputChange:a}),Object(r.jsx)(L,{})]})};var Q=function(){var e=c.a.useState(""),t=Object(d.a)(e,2),n=t[0],a=t[1];return Object(r.jsxs)(f.Provider,{value:{onInputChange:function(e){return a(e)},input:n},children:[Object(r.jsx)(h.a,{}),Object(r.jsx)(K,{})]})};function U(){return Object(r.jsx)(s.a,{theme:j,children:Object(r.jsx)(Q,{})})}o.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(U,{})}),document.getElementById("root")),u()}},[[93,1,2]]]);
//# sourceMappingURL=main.45044038.chunk.js.map